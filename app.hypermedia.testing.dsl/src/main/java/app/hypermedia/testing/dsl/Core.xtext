grammar app.hypermedia.testing.dsl.Core with org.eclipse.xtext.common.Terminals

generate core "http://www.zazuko.com/apitesting/dsl/ApiTestingDsl"

Model:
    (steps+=Element)*;

Element:
	ClassBlock;

ClassLevelAssertion:
    PropertyBlock |
    PropertyStatement;

ClassBlock:
	'With' 'Class' name=STRING '{'
		(children+=ClassLevelAssertion)*
		hatch=HATCH?
	'}';

PropertyBlock:
    ('Expect' | 'With') 'Property' name=STRING
    (
        '{'
            (children+=ClassLevelAssertion)*
            hatch=HATCH?
        '}'
    )
;

PropertyStatement:
    'Expect' 'Property' name=STRING (value=STRING)?
;

terminal HATCH: '++' -> '++';
